package br.inatel.labs.labjpa.service;

import org.springframework.stereotype.Service;

import jakarta.persistence.EntityManager;
import jakarta.persistence.PersistenceContext;


@Service
public class RelatorioService {
	
	@PersistenceContext
	private EntityManager em;
	
	public void pesquisarTotalCompradoPorFornecedor() {
		String query = """
				select new br.inatel.labs.labjpa.dto.TotalCompradoPorFornecedor
					(f.razaoSocial, sum(i.quantidade * i.valorCompraProduto))
				from NotaCompraItem	i
					join i.notaCompra n
					join n.fornecedor f
				group by f.razaoSocial
				""";
	}
}
